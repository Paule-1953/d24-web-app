Name:         prometheus-kube-prometheus-k8s.rules.container-cpu-usage-second
Namespace:    monitoring
Labels:       app=kube-prometheus-stack
              app.kubernetes.io/instance=prometheus
              app.kubernetes.io/managed-by=Helm
              app.kubernetes.io/part-of=kube-prometheus-stack
              app.kubernetes.io/version=69.8.2
              chart=kube-prometheus-stack-69.8.2
              heritage=Helm
              release=prometheus
Annotations:  meta.helm.sh/release-name: prometheus
              meta.helm.sh/release-namespace: monitoring
API Version:  monitoring.coreos.com/v1
Kind:         PrometheusRule
Metadata:
  Creation Timestamp:  2025-03-14T13:43:22Z
  Generation:          1
  Resource Version:    2591123
  UID:                 6c14a9cd-959c-4cc6-9d1e-db58a59db6f8
Spec:
  Groups:
    Name:  k8s.rules.container_cpu_usage_seconds_total
    Rules:
      Expr:  sum by (cluster, namespace, pod, container) (
  irate(container_cpu_usage_seconds_total{job="kubelet", metrics_path="/metrics/cadvisor", image!=""}[5m])
) * on (cluster, namespace, pod) group_left(node) topk by (cluster, namespace, pod) (
  1, max by (cluster, namespace, pod, node) (kube_pod_info{node!=""})
)
      Record:  node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate
Events:        <none>
Name:         prometheus-kube-prometheus-k8s.rules.container-cpu-usage-second
Namespace:    monitoring
Labels:       app=kube-prometheus-stack
              app.kubernetes.io/instance=prometheus
              app.kubernetes.io/managed-by=Helm
              app.kubernetes.io/part-of=kube-prometheus-stack
              app.kubernetes.io/version=69.8.2
              chart=kube-prometheus-stack-69.8.2
              heritage=Helm
              release=prometheus
Annotations:  meta.helm.sh/release-name: prometheus
              meta.helm.sh/release-namespace: monitoring
API Version:  monitoring.coreos.com/v1
Kind:         PrometheusRule
Metadata:
  Creation Timestamp:  2025-03-14T13:43:22Z
  Generation:          1
  Resource Version:    2591123
  UID:                 6c14a9cd-959c-4cc6-9d1e-db58a59db6f8
Spec:
  Groups:
    Name:  k8s.rules.container_cpu_usage_seconds_total
    Rules:
      Expr:  sum by (cluster, namespace, pod, container) (
  irate(container_cpu_usage_seconds_total{job="kubelet", metrics_path="/metrics/cadvisor", image!=""}[5m])
) * on (cluster, namespace, pod) group_left(node) topk by (cluster, namespace, pod) (
  1, max by (cluster, namespace, pod, node) (kube_pod_info{node!=""})
)
      Record:  node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate
Events:        <none>
